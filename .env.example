# DFW Openings Pipeline Configuration
# Copy this file to .env and fill in your values

# ----------------------------------------------------------------------------
# Data Sources
# ----------------------------------------------------------------------------

# Optional: Socrata App Token for TABC, Dallas, and Texas Sales Tax open data
# Sign up at https://dev.socrata.com/register to get a token
# Recommended to avoid rate limits.
SOCRATA_APP_TOKEN=

# Optional: Fort Worth ArcGIS token (usually not required for public data)
FORTWORTH_ARCGIS_TOKEN=

# ----------------------------------------------------------------------------
# Building Permit Sources - Existing 5 Cities
# ----------------------------------------------------------------------------

# Lewisville Building Permit API (calls API to get dynamic CSV links)
# Portal: https://eservices.cityoflewisville.com/BuildingPermitsIssued/
LEWISVILLE_CSV_API=https://query.cityoflewisville.com/v2/?Building/PermitsIssued_ReportLinks

# Mesquite EnerGov API (default URL provided, update if needed)
# Portal: https://energov.cityofmesquite.com/selfservice
MESQUITE_ENERGOV_URL=https://energov.cityofmesquite.com

# Carrollton CityView ArcGIS FeatureServer endpoint
# Portal: https://cityserve.cityofcarrollton.com/CityViewPortal/Permit/Locator
# Inspect network requests on the portal to find the FeatureServer URL
CARROLLTON_ARCGIS_URL=

# Plano eTRAKiT (default URL provided)
# Portal: https://trakit.plano.gov/etrakit_prod/Search/permit.aspx
PLANO_ETRAKIT_URL=https://trakit.plano.gov/etrakit_prod

# Frisco eTRAKiT (default URL provided)
# Portal: https://etrakit.friscotexas.gov/etrakit/Search/permit.aspx
# Also see reports: https://www.friscotexas.gov/614/Reports
FRISCO_ETRAKIT_URL=https://etrakit.friscotexas.gov

# ----------------------------------------------------------------------------
# Building Permit Sources - New 3 Cities
# ----------------------------------------------------------------------------

# Dallas Building Permits (Socrata API - same as TABC)
# Portal: https://www.dallasopendata.com/resource/e7gq-4sah
DALLAS_PERMITS_ENDPOINT=https://www.dallasopendata.com/resource/e7gq-4sah.json

# Arlington Issued Permits (ArcGIS Hub)
# Portal: https://opendata.arlingtontx.gov/datasets/arlingtontx::issued-permits
# Note: 3-year view of ALL permits (residential, commercial, sign, fence, pool, CO). Updated daily.
# TBD: Need to discover the FeatureServer URL from the portal
ARLINGTON_ARCGIS_URL=

# Denton eTRAKiT (ASP.NET form - same as Plano/Frisco)
# Portal: https://dntn-trk.aspgov.com/eTRAKiT/Search/permit.aspx
DENTON_ETRAKIT_URL=https://dntn-trk.aspgov.com/eTRAKiT

# ----------------------------------------------------------------------------
# Building Permit Sources - EnerGov Cities
# ----------------------------------------------------------------------------

# McKinney EnerGov (same API pattern as Mesquite)
# Portal: https://egov.mckinneytexas.org/EnerGov_Prod/SelfService
MCKINNEY_ENERGOV_URL=https://egov.mckinneytexas.org/EnerGov_Prod/SelfService

# Southlake EnerGov
# Portal: https://energov.cityofsouthlake.com/EnerGov_Prod/SelfService
SOUTHLAKE_ENERGOV_URL=https://energov.cityofsouthlake.com/EnerGov_Prod/SelfService

# ----------------------------------------------------------------------------
# Building Permit Sources - Accela Cities
# ----------------------------------------------------------------------------

# Fort Worth Accela Citizen Access (Building + Fire modules)
# Portal: https://aca-prod.accela.com/CFW/
# Searches for: commercial alteration, tenant finish, hood, fire suppression
FORTWORTH_ACCELA_URL=https://aca-prod.accela.com/CFW

# ----------------------------------------------------------------------------
# Data Enrichment (Google Places)
# ----------------------------------------------------------------------------

# Required for Phone Numbers, Websites, and Ratings
# Get a key at https://console.cloud.google.com/
# Enable "Places API"
GOOGLE_PLACES_API_KEY=

# ----------------------------------------------------------------------------
# Notifications
# ----------------------------------------------------------------------------

# Slack Notifications (Optional)
# Create a webhook at https://api.slack.com/messaging/webhooks
SLACK_WEBHOOK_URL=

# Email Notifications (Optional)
# Example for Gmail: Use App Password if 2FA is enabled
SMTP_SERVER=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your_email@gmail.com
SMTP_PASSWORD=your_app_password
EMAIL_RECIPIENT=recipient_email@example.com

# ----------------------------------------------------------------------------
# System Configuration
# ----------------------------------------------------------------------------

# Database path (default: dfw_openings.sqlite in project root)
# DFW_DB_PATH=dfw_openings.sqlite

# Default lookback period in days (default: 7)
# DEFAULT_LOOKBACK_DAYS=7
